<p-toast></p-toast>
<p-confirmDialog></p-confirmDialog>

<div class="p-1 py-5 max-h-screen">
  <div class="mb-2">
    <p-panel header="Trabajador" styleClass="shadow-xl rounded-xl mb-3">

      <div class="flex justify-content-between align-items-center mb-3">
        <button type="button" pButton icon="pi pi-plus" label="Nuevo Trabajador"
        (click)="nuevoTrabajador()"
        class="p-button-sm"></button>
      </div>

      <p-table
      [value]="trabajadorList"
      dataKey="pla01empresacod"
      [paginator]="true"
      [rows]="rowsPerPage"
      [rowsPerPageOptions]="[5, 10, 20, 50]"
      [showCurrentPageReport]="true"
      responsiveLayout="scroll"
      currentPageReportTemplate="Mostrando {first} a {last} de {totalRecords} trabajadores"
      [tableStyle]="{ 'width': '1366px' }"
      styleClass="p-datatable-sm p-datatable-striped p-datatable-gridlines"
      class="table-trabajador"
      >
        <!-- Cabecera-->
        <ng-template pTemplate="header">
          <tr>
            <th style="text-align: center; width: 10%;">Código</th>
            <th style="text-align: center; width: 10%;">Doc. Identidad</th>
            <th style="text-align: center; width: 15%;">Apellidos y Nombres</th>
            <th style="text-align: center; width: 15%;">Dirección</th>
            <th style="text-align: center; width: 10%;">Fec. Nac.</th>
            <th style="text-align: center; width: 10%;">Teléfono</th>
            <th style="text-align: center; width: 10%;">Fec. Ingreso</th>
            <th style="text-align: center; width: 10%;">Centro costo</th>
            <th style="text-align: center; width: 10%;">Acciones</th>
          </tr>
        </ng-template>
        <!-- Cuerpo -->
        <ng-template pTemplate="body" let-trabajador>
          <tr>
            <td>{{trabajador.pla01empleadocod}}</td>
            <td>{{trabajador.pla01docuidentidadnro}}</td>
            <td>{{trabajador.apellidosynombres}}</td>
            <td>{{trabajador.pla01direccion}}</td>
            <td>{{trabajador.pla01fechanacimiento | date: 'dd/MM/yyyy'}}</td>
            <td>{{trabajador.pla01telefono}}</td>
            <td>{{trabajador.pla01fechaingreso | date: 'dd/MM/yyyy'}}</td>
            <td>{{trabajador.pla01centrocosto}}</td>
            <td>
              <div class="flex justify-content-center gap-2">

                <!-- Botón Ver Detalle -->

                <button pButton
                type="button"
                icon="pi pi-eye"
                pTooltip="Ver Detalle"
                (click)="verTrabajador(trabajador)"
                class="p-button-rounded p-button-text p-button-sm"></button>

                <!-- Botón Editar -->
                <button pButton
                (click)="editarTrabajador(trabajador)"
                icon="pi pi-pencil"
                pTooltip="Editar"
                class="p-button-rounded p-button-text p-button-sm"
                ></button>

                <!-- Botón Eliminar -->
                <button pButton
                type="button"
                (click)="eliminarTrabajador(trabajador)"
                icon="pi pi-trash"
                pTooltip="Eliminar"
                class="p-button-rounded p-button-text p-button-sm p-button-danger"></button>

              </div>
            </td>
          </tr>
        </ng-template>
      </p-table>
    </p-panel>
  </div>

</div>
